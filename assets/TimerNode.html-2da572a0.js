import{_ as d,M as o,p as u,q as p,R as t,N as a,V as s,t as n,a1 as i}from"./framework-204010b2.js";const c={},r=i('<h1 id="timer" tabindex="-1"><a class="header-anchor" href="#timer" aria-hidden="true">#</a> Timer</h1><hr><h2 id="描述" tabindex="-1"><a class="header-anchor" href="#描述" aria-hidden="true">#</a> 描述</h2><p>TimerNode 定时器节点允许指定一个lua 回调方法在一定时间后执行。</p><hr><h2 id="属性" tabindex="-1"><a class="header-anchor" href="#属性" aria-hidden="true">#</a> 属性</h2>',6),_={style:{"text-align":"left"}},h={style:{width:"700px"}},m=t("br",null,null,-1),k=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"lua回调方法")])],-1),f={style:{"text-align":"left"}},b={style:{width:"700px"}},v=t("br",null,null,-1),y=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"首次延迟执行的事件")])],-1),x={style:{"text-align":"left"}},g={style:{width:"700px"}},S=t("br",null,null,-1),T=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"是否循环执行")])],-1),A={style:{"text-align":"left"}},w={style:{width:"700px"}},N=t("br",null,null,-1),C=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"循环执行间隔")])],-1),q={style:{"text-align":"left"}},R={style:{width:"700px"}},F=t("br",null,null,-1),D=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"当前循环状态，包括：空闲，运行，暂停。")])],-1),P=t("hr",null,null,-1),L=t("h2",{id:"函数",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#函数","aria-hidden":"true"},"#"),n(" 函数")],-1),E={style:{"text-align":"left"}},B={style:{width:"700px"}},V=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"暂停。需要在开始执行后调用")])],-1),G={style:{"text-align":"left"}},I={style:{width:"700px"}},M=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"暂停。需要在开始执行后调用")])],-1),j={style:{"text-align":"left"}},z={style:{width:"700px"}},H=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"恢复。需要在暂停后调用")])],-1),J={style:{"text-align":"left"}},K={style:{width:"700px"}},O=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"停止。需要在执行后调用")])],-1),Q={style:{"text-align":"left"}},U={style:{width:"700px"}},W=t("a",{href:""},[n("AutoRef"),t("code",null,"<LuaFunction>")],-1),X=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"开始执行。附带初始化的参数此服务器中可以容纳的最大玩家数量")])],-1),Y={style:{"text-align":"left"}},Z={style:{width:"700px"}},$=t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"开始执行。附带初始化的参数此服务器中可以容纳的最大玩家数量")])],-1),tt=i(`<h2 id="事件" tabindex="-1"><a class="header-anchor" href="#事件" aria-hidden="true">#</a> 事件</h2><hr><h2 id="示例代码" tabindex="-1"><a class="header-anchor" href="#示例代码" aria-hidden="true">#</a> 示例代码</h2><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> a <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">local</span> timer <span class="token operator">=</span> SandboxNode<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">&quot;TimerNode&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- 创建定时器节点</span>
timer<span class="token punctuation">.</span>Delay <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">-- 延迟多少秒开始</span>
timer<span class="token punctuation">.</span>Loop <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token comment">-- 是否循环</span>
timer<span class="token punctuation">.</span>Interval <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">-- 循环间隔多少秒</span>
timer<span class="token punctuation">.</span>Callback <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 回调方法</span>
    a <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;timer : &quot;</span><span class="token punctuation">,</span> timer<span class="token punctuation">,</span> <span class="token string">&quot; a=&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    <span class="token keyword">if</span> a <span class="token operator">==</span> <span class="token number">4</span> <span class="token keyword">then</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;timer pause&quot;</span><span class="token punctuation">)</span>
        timer<span class="token punctuation">:</span><span class="token function">Pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 暂停定时器，只有在定时器运行期间有效</span>
        <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;timer resume&quot;</span><span class="token punctuation">)</span>
        timer<span class="token punctuation">:</span><span class="token function">Resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 恢复定时器，只有在定时器运行暂停期间有效</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
timer<span class="token punctuation">:</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- 一次性传入参数，并且开始定时器</span>
<span class="token comment">--timer:StartEx(3, true, 3, function() a = a + 1; print(&quot;timer ex : a=&quot;, a) end)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;timer start&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function nt(at,st){const e=o("RouterLink"),l=o("font");return u(),p("div",null,[r,t("table",null,[t("thead",null,[t("tr",null,[t("th",_,[t("div",h,[a(e,{to:"/Api/Parameter/LuaFunction.html"},{default:s(()=>[n("LuaFunction")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Callback.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Callback")]),_:1}),m]),_:1})])])])]),k]),t("table",null,[t("thead",null,[t("tr",null,[t("th",f,[t("div",b,[a(e,{to:"/Api/DataType/Double.html"},{default:s(()=>[n("double")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Delay.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Delay")]),_:1}),v]),_:1})])])])]),y]),t("table",null,[t("thead",null,[t("tr",null,[t("th",x,[t("div",g,[a(e,{to:"/Api/DataType/Bool.html"},{default:s(()=>[n("bool")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Loop.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Loop")]),_:1}),S]),_:1})])])])]),T]),t("table",null,[t("thead",null,[t("tr",null,[t("th",A,[t("div",w,[a(e,{to:"/Api/DataType/Double.html"},{default:s(()=>[n("double")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Interval.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Interval")]),_:1}),N]),_:1})])])])]),C]),t("table",null,[t("thead",null,[t("tr",null,[t("th",q,[t("div",R,[a(e,{to:"/Api/Enumerate/Script/TimerRunState.html"},{default:s(()=>[n("TimerRunState")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/TimerRunState.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("TimerRunState")]),_:1}),F]),_:1})])])])]),D]),P,L,t("table",null,[t("thead",null,[t("tr",null,[t("th",E,[t("div",B,[a(e,{to:"/Api/Parameter/void.html"},{default:s(()=>[n("void")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Start.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Start")]),_:1})]),_:1}),n("()")])])])]),V]),t("table",null,[t("thead",null,[t("tr",null,[t("th",G,[t("div",I,[a(e,{to:"/Api/Parameter/void.html"},{default:s(()=>[n("void")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Pause.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Pause")]),_:1})]),_:1}),n("()")])])])]),M]),t("table",null,[t("thead",null,[t("tr",null,[t("th",j,[t("div",z,[a(e,{to:"/Api/Parameter/void.html"},{default:s(()=>[n("void")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Resume.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Resume")]),_:1})]),_:1}),n("()")])])])]),H]),t("table",null,[t("thead",null,[t("tr",null,[t("th",J,[t("div",K,[a(e,{to:"/Api/Parameter/void.html"},{default:s(()=>[n("void")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/Stop.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("Stop")]),_:1})]),_:1}),n("()")])])])]),O]),t("table",null,[t("thead",null,[t("tr",null,[t("th",Q,[t("div",U,[a(e,{to:"/Api/Parameter/void.html"},{default:s(()=>[n("void")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/StartEx.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("StartEx")]),_:1})]),_:1}),n(" ("),a(e,{to:"/Api/DataType/Double.html"},{default:s(()=>[n("double")]),_:1}),n(" delay, "),a(e,{to:"/Api/DataType/Bool.html"},{default:s(()=>[n("bool")]),_:1}),n(" loop, "),a(e,{to:"/Api/DataType/Double.html"},{default:s(()=>[n("double")]),_:1}),n(" interval, "),W,n(" cb) ")])])])]),X]),t("table",null,[t("thead",null,[t("tr",null,[t("th",Y,[t("div",Z,[a(e,{to:"/Api/Enumerate/GamePlay/TimerRunState.html"},{default:s(()=>[n("TimerRunState")]),_:1}),n("  "),a(e,{to:"/Api/Class/Script/TimerNode_F/GetRunState.html"},{default:s(()=>[a(l,{color:"dd00dd"},{default:s(()=>[n("GetRunState")]),_:1})]),_:1}),n(" () ")])])])]),$]),tt])}const lt=d(c,[["render",nt],["__file","TimerNode.html.vue"]]);export{lt as default};
